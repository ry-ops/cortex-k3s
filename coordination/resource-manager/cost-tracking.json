{
  "version": "1.0",
  "last_updated": "2025-12-09T00:00:00Z",
  "configuration_owner": "resource-manager",

  "metric_definitions": {
    "api_tokens": {
      "metric_id": "api_tokens",
      "name": "API Token Usage",
      "description": "Claude API token consumption across all agents and contractors",
      "unit": "tokens",
      "granularity": "per_request",
      "aggregation_periods": ["hourly", "daily", "weekly", "monthly"],
      "dimensions": [
        "agent_id",
        "contractor_id",
        "division",
        "master",
        "model",
        "task_type",
        "session_id"
      ],
      "sub_metrics": {
        "input_tokens": {
          "description": "Tokens sent to the model (prompts + context)",
          "cost_calculation": "tokens × model_input_rate / 1,000,000"
        },
        "output_tokens": {
          "description": "Tokens generated by the model (responses)",
          "cost_calculation": "tokens × model_output_rate / 1,000,000"
        },
        "cached_tokens": {
          "description": "Tokens served from prompt cache (read)",
          "cost_calculation": "tokens × cache_read_rate / 1,000,000"
        },
        "cache_creation_tokens": {
          "description": "Tokens written to prompt cache",
          "cost_calculation": "tokens × cache_write_rate / 1,000,000"
        }
      },
      "efficiency_metrics": {
        "tokens_per_task": {
          "formula": "total_tokens / tasks_completed",
          "target": "< 1000",
          "optimization_threshold": "> 1500"
        },
        "cache_hit_rate": {
          "formula": "cached_tokens / (cached_tokens + uncached_tokens) × 100",
          "target": "> 60%",
          "optimization_threshold": "< 40%"
        },
        "retry_overhead_pct": {
          "formula": "(retry_tokens / total_tokens) × 100",
          "target": "< 5%",
          "optimization_threshold": "> 10%"
        }
      }
    },

    "compute_cpu": {
      "metric_id": "compute_cpu",
      "name": "CPU Hours",
      "description": "Virtual CPU time consumed by agents, contractors, and services",
      "unit": "core-hours",
      "granularity": "per_15_minutes",
      "aggregation_periods": ["hourly", "daily", "weekly", "monthly"],
      "dimensions": [
        "agent_id",
        "contractor_id",
        "division",
        "vm_id",
        "host",
        "workload_type"
      ],
      "cost_calculation": "cpu_cores × hours_active × rate_per_core_hour",
      "standard_rate": 0.05,
      "efficiency_metrics": {
        "utilization_pct": {
          "formula": "(actual_usage / allocated) × 100",
          "target": "60-80%",
          "overallocation_threshold": "< 50%",
          "underallocation_threshold": "> 85%"
        },
        "peak_to_avg_ratio": {
          "formula": "peak_usage / avg_usage",
          "target": "< 2.0",
          "optimization_threshold": "> 3.0"
        }
      }
    },

    "compute_memory": {
      "metric_id": "compute_memory",
      "name": "Memory Hours",
      "description": "RAM allocated and consumed over time",
      "unit": "GB-hours",
      "granularity": "per_15_minutes",
      "aggregation_periods": ["hourly", "daily", "weekly", "monthly"],
      "dimensions": [
        "agent_id",
        "contractor_id",
        "division",
        "vm_id",
        "host"
      ],
      "cost_calculation": "memory_gb × hours_allocated × rate_per_gb_hour",
      "standard_rate": 0.005,
      "efficiency_metrics": {
        "utilization_pct": {
          "formula": "(avg_usage / allocated) × 100",
          "target": "60-80%",
          "rightsizing_threshold": "< 50%"
        },
        "memory_waste_gb_hours": {
          "formula": "(allocated - avg_usage) × hours",
          "target": "< 20% of allocated"
        }
      }
    },

    "storage_hot": {
      "metric_id": "storage_hot",
      "name": "Hot Storage",
      "description": "Frequently accessed storage (knowledge bases, active logs)",
      "unit": "GB",
      "granularity": "hourly",
      "aggregation_periods": ["daily", "weekly", "monthly"],
      "dimensions": [
        "division",
        "data_type",
        "path"
      ],
      "cost_calculation": "total_gb × 0.023 / 30",
      "monthly_rate_per_gb": 0.023,
      "tier_transition_rules": {
        "to_warm": {
          "condition": "last_access > 30_days",
          "savings_pct": 47.8
        }
      }
    },

    "storage_warm": {
      "metric_id": "storage_warm",
      "name": "Warm Storage",
      "description": "Occasionally accessed storage (historical data, archives)",
      "unit": "GB",
      "granularity": "hourly",
      "aggregation_periods": ["daily", "weekly", "monthly"],
      "dimensions": [
        "division",
        "data_type",
        "path"
      ],
      "cost_calculation": "total_gb × 0.012 / 30",
      "monthly_rate_per_gb": 0.012,
      "tier_transition_rules": {
        "to_hot": {
          "condition": "access_frequency > 5_per_day",
          "cost_impact_pct": -91.7
        },
        "to_cold": {
          "condition": "last_access > 90_days",
          "savings_pct": 66.7
        }
      }
    },

    "storage_cold": {
      "metric_id": "storage_cold",
      "name": "Cold Storage",
      "description": "Archival storage (long-term backups)",
      "unit": "GB",
      "granularity": "daily",
      "aggregation_periods": ["weekly", "monthly"],
      "dimensions": [
        "division",
        "data_type",
        "backup_set"
      ],
      "cost_calculation": "total_gb × 0.004 / 30",
      "monthly_rate_per_gb": 0.004,
      "retention_policies": {
        "default": "365_days",
        "debug_logs": "90_days",
        "temp_files": "30_days"
      }
    },

    "network_intra_region": {
      "metric_id": "network_intra_region",
      "name": "Intra-Region Transfer",
      "description": "Data transfer within same region",
      "unit": "GB",
      "granularity": "hourly",
      "aggregation_periods": ["daily", "weekly", "monthly"],
      "dimensions": [
        "source_division",
        "destination_division",
        "protocol"
      ],
      "cost_calculation": "total_gb × 0.00",
      "rate_per_gb": 0.00
    },

    "network_inter_region": {
      "metric_id": "network_inter_region",
      "name": "Inter-Region Transfer",
      "description": "Data transfer between regions",
      "unit": "GB",
      "granularity": "hourly",
      "aggregation_periods": ["daily", "weekly", "monthly"],
      "dimensions": [
        "source_region",
        "destination_region",
        "service"
      ],
      "cost_calculation": "total_gb × 0.02",
      "rate_per_gb": 0.02
    },

    "network_egress": {
      "metric_id": "network_egress",
      "name": "Internet Egress",
      "description": "Data transfer to internet",
      "unit": "GB",
      "granularity": "hourly",
      "aggregation_periods": ["daily", "weekly", "monthly"],
      "dimensions": [
        "division",
        "service",
        "destination_type"
      ],
      "cost_calculation": "total_gb × 0.09",
      "rate_per_gb": 0.09,
      "tiered_pricing": [
        {"range": "0-10TB", "rate": 0.09},
        {"range": "10-50TB", "rate": 0.085},
        {"range": "50-150TB", "rate": 0.07},
        {"range": "150TB+", "rate": 0.05}
      ]
    }
  },

  "model_pricing": {
    "claude-opus-4.5": {
      "model_id": "claude-opus-4.5",
      "tier": "premium",
      "input_rate_per_million": 15.00,
      "output_rate_per_million": 75.00,
      "cache_write_rate_per_million": 18.75,
      "cache_read_rate_per_million": 1.50,
      "use_cases": ["complex_reasoning", "strategic_planning", "architectural_decisions"],
      "recommended_for": ["cortex-prime", "coo"]
    },
    "claude-sonnet-4.5": {
      "model_id": "claude-sonnet-4.5",
      "tier": "standard",
      "input_rate_per_million": 3.00,
      "output_rate_per_million": 15.00,
      "cache_write_rate_per_million": 3.75,
      "cache_read_rate_per_million": 0.30,
      "use_cases": ["general_purpose", "development", "coordination"],
      "recommended_for": ["masters", "division_gms", "contractors"]
    },
    "claude-haiku-3.5": {
      "model_id": "claude-haiku-3.5",
      "tier": "economy",
      "input_rate_per_million": 0.80,
      "output_rate_per_million": 4.00,
      "cache_write_rate_per_million": 1.00,
      "cache_read_rate_per_million": 0.08,
      "use_cases": ["simple_tasks", "classification", "structured_extraction"],
      "recommended_for": ["workers", "simple_contractors"]
    }
  },

  "budget_configuration": {
    "organization": {
      "name": "cortex-holdings",
      "total_daily_allocation": 200000,
      "currency": "tokens",
      "fiscal_year": "2026",
      "budget_period": "daily",
      "emergency_reserve_pct": 1.0,
      "emergency_reserve_tokens": 2000,
      "contingency_fund": {
        "amount": 10000,
        "approval_required": "coo",
        "use_cases": ["critical_incidents", "major_initiatives", "emergency_scaling"]
      }
    },

    "divisions": {
      "infrastructure": {
        "daily_allocation": 20000,
        "pct_of_total": 10.0,
        "sub_allocations": {
          "coordination": 4000,
          "contractors": 12000,
          "reporting": 2000,
          "emergency": 2000
        },
        "flexibility": {
          "can_borrow": true,
          "max_overage_pct": 10,
          "approval_required_above_pct": 15
        },
        "contractors": [
          {"contractor": "infrastructure-contractor", "allocation": 10000},
          {"contractor": "talos-contractor", "allocation": 2000}
        ]
      },
      "containers": {
        "daily_allocation": 15000,
        "pct_of_total": 7.5,
        "sub_allocations": {
          "coordination": 3000,
          "contractors": 9000,
          "reporting": 1500,
          "emergency": 1500
        },
        "flexibility": {
          "can_borrow": true,
          "max_overage_pct": 10,
          "approval_required_above_pct": 15
        }
      },
      "workflows": {
        "daily_allocation": 12000,
        "pct_of_total": 6.0,
        "sub_allocations": {
          "coordination": 2400,
          "contractors": 7200,
          "reporting": 1200,
          "emergency": 1200
        },
        "flexibility": {
          "can_borrow": true,
          "max_overage_pct": 10,
          "approval_required_above_pct": 15
        },
        "contractors": [
          {"contractor": "n8n-contractor", "allocation": 7200}
        ]
      },
      "configuration": {
        "daily_allocation": 10000,
        "pct_of_total": 5.0,
        "sub_allocations": {
          "coordination": 2000,
          "contractors": 6000,
          "reporting": 1000,
          "emergency": 1000
        },
        "flexibility": {
          "can_borrow": true,
          "max_overage_pct": 10,
          "approval_required_above_pct": 15
        }
      },
      "monitoring": {
        "daily_allocation": 18000,
        "pct_of_total": 9.0,
        "sub_allocations": {
          "coordination": 3600,
          "contractors": 10800,
          "reporting": 1800,
          "emergency": 1800
        },
        "flexibility": {
          "can_borrow": true,
          "max_overage_pct": 10,
          "approval_required_above_pct": 15
        }
      },
      "intelligence": {
        "daily_allocation": 8000,
        "pct_of_total": 4.0,
        "sub_allocations": {
          "coordination": 1600,
          "contractors": 4800,
          "reporting": 800,
          "emergency": 800
        },
        "flexibility": {
          "can_borrow": true,
          "max_overage_pct": 10,
          "approval_required_above_pct": 15
        }
      }
    },

    "shared_services": {
      "security_master": {
        "daily_allocation": 25000,
        "pct_of_total": 12.5,
        "priority": "high",
        "services": ["vulnerability_scanning", "threat_detection", "compliance_monitoring"]
      },
      "development_master": {
        "daily_allocation": 30000,
        "pct_of_total": 15.0,
        "priority": "high",
        "services": ["feature_development", "bug_fixing", "code_review", "refactoring"]
      },
      "cicd_master": {
        "daily_allocation": 15000,
        "pct_of_total": 7.5,
        "priority": "medium",
        "services": ["build_automation", "deployment", "testing", "dashboard_updates"]
      },
      "inventory_master": {
        "daily_allocation": 10000,
        "pct_of_total": 5.0,
        "priority": "low",
        "services": ["asset_tracking", "documentation", "dependency_analysis"]
      },
      "coordinator_master": {
        "daily_allocation": 20000,
        "pct_of_total": 10.0,
        "priority": "critical",
        "services": ["task_routing", "handoff_management", "cross_division_coordination"]
      }
    },

    "meta_level": {
      "cortex_prime": {
        "daily_allocation": 10000,
        "pct_of_total": 5.0,
        "priority": "critical",
        "model": "claude-opus-4.5",
        "use_cases": ["strategic_decisions", "architectural_guidance", "conflict_resolution"]
      },
      "coo": {
        "daily_allocation": 5000,
        "pct_of_total": 2.5,
        "priority": "high",
        "model": "claude-sonnet-4.5",
        "use_cases": ["operational_oversight", "budget_management", "performance_review"]
      }
    },

    "project_budgets": {
      "budget_type": "time_bound",
      "active_projects": [
        {
          "project_id": "k8s-cluster-migration",
          "name": "Kubernetes Cluster Migration",
          "start_date": "2025-12-01",
          "end_date": "2025-12-14",
          "total_budget": 350000,
          "daily_allocation": 25000,
          "funding_sources": [
            {"division": "containers", "amount": 15000},
            {"division": "infrastructure", "amount": 5000},
            {"master": "development_master", "amount": 5000}
          ],
          "status": "active"
        }
      ]
    }
  },

  "alert_thresholds": {
    "alert_policies": [
      {
        "alert_id": "token-budget-warning",
        "name": "Token Budget Warning",
        "resource_type": "api_tokens",
        "scope": "division",
        "enabled": true,
        "priority": "medium",
        "thresholds": {
          "info": 50,
          "warning": 75,
          "critical": 90,
          "emergency": 100
        },
        "evaluation_period": "1_hour",
        "evaluation_window": "rolling",
        "notification_channels": [
          {"channel": "division_gm", "levels": ["warning", "critical", "emergency"]},
          {"channel": "coo", "levels": ["critical", "emergency"]},
          {"channel": "dashboard", "levels": ["info", "warning", "critical", "emergency"]}
        ],
        "auto_actions": {
          "at_75": [
            {"action": "notify_gm", "params": {}},
            {"action": "log_usage_breakdown", "params": {"detail_level": "high"}},
            {"action": "generate_optimization_recommendations", "params": {}}
          ],
          "at_90": [
            {"action": "notify_coo", "params": {"urgency": "high"}},
            {"action": "defer_low_priority_tasks", "params": {"priority_threshold": "low"}},
            {"action": "enable_aggressive_caching", "params": {}}
          ],
          "at_100": [
            {"action": "stop_non_critical_operations", "params": {}},
            {"action": "request_emergency_budget", "params": {"amount": "auto_calculate"}},
            {"action": "escalate_to_prime", "params": {"severity": "critical"}}
          ]
        },
        "cooldown_period": "30_minutes"
      },

      {
        "alert_id": "compute-overallocation",
        "name": "Compute Overallocation",
        "resource_type": "cpu_hours",
        "scope": "organization",
        "enabled": true,
        "priority": "high",
        "thresholds": {
          "warning": 200,
          "critical": 230,
          "emergency": 250
        },
        "threshold_type": "absolute",
        "evaluation_period": "15_minutes",
        "notification_channels": [
          {"channel": "coo", "levels": ["warning", "critical", "emergency"]},
          {"channel": "infrastructure_gm", "levels": ["warning", "critical", "emergency"]}
        ],
        "auto_actions": {
          "at_warning": [
            {"action": "analyze_cpu_hotspots", "params": {}},
            {"action": "recommend_rightsizing", "params": {}}
          ],
          "at_critical": [
            {"action": "throttle_low_priority_workloads", "params": {"throttle_pct": 25}}
          ]
        }
      },

      {
        "alert_id": "storage-capacity",
        "name": "Storage Capacity Alert",
        "resource_type": "storage",
        "scope": "tier",
        "enabled": true,
        "priority": "medium",
        "thresholds": {
          "warning": 80,
          "critical": 90,
          "emergency": 95
        },
        "evaluation_period": "1_hour",
        "notification_channels": [
          {"channel": "infrastructure_gm", "levels": ["warning", "critical", "emergency"]},
          {"channel": "coo", "levels": ["critical", "emergency"]}
        ],
        "auto_actions": {
          "at_80": [
            {"action": "analyze_cleanup_opportunities", "params": {"scope": "safe_deletions"}},
            {"action": "identify_tier_migration_candidates", "params": {}}
          ],
          "at_90": [
            {"action": "execute_retention_policies", "params": {"scope": "automated_only"}},
            {"action": "trigger_tier_migration", "params": {"aggressive": false}},
            {"action": "compress_compressible_data", "params": {}}
          ],
          "at_95": [
            {"action": "emergency_cleanup", "params": {"scope": "temp_files_and_logs"}},
            {"action": "request_storage_expansion", "params": {"urgency": "immediate"}}
          ]
        }
      },

      {
        "alert_id": "network-spike",
        "name": "Network Egress Spike",
        "resource_type": "network_egress",
        "scope": "organization",
        "enabled": true,
        "priority": "high",
        "threshold_type": "anomaly",
        "anomaly_detection": {
          "baseline_window": "7_days",
          "anomaly_multiplier": 3.0,
          "minimum_baseline_samples": 168
        },
        "evaluation_period": "15_minutes",
        "notification_channels": [
          {"channel": "coo", "levels": ["anomaly"]},
          {"channel": "security_master", "levels": ["anomaly"]},
          {"channel": "infrastructure_gm", "levels": ["anomaly"]}
        ],
        "auto_actions": {
          "on_anomaly": [
            {"action": "analyze_egress_sources", "params": {"top_n": 10}},
            {"action": "check_security_indicators", "params": {}},
            {"action": "correlate_with_deployments", "params": {}}
          ]
        }
      },

      {
        "alert_id": "cost-variance",
        "name": "Cost Variance Alert",
        "resource_type": "total_cost",
        "scope": "division",
        "enabled": true,
        "priority": "low",
        "threshold_type": "percentage_variance",
        "thresholds": {
          "info": 10,
          "warning": 20,
          "critical": 35
        },
        "comparison_basis": "30_day_avg",
        "evaluation_period": "daily",
        "notification_channels": [
          {"channel": "division_gm", "levels": ["warning", "critical"]},
          {"channel": "coo", "levels": ["critical"]}
        ],
        "auto_actions": {
          "at_warning": [
            {"action": "generate_variance_report", "params": {"detail_level": "high"}},
            {"action": "identify_cost_drivers", "params": {}}
          ]
        }
      },

      {
        "alert_id": "optimization-opportunity",
        "name": "High-Value Optimization Detected",
        "resource_type": "optimization",
        "scope": "organization",
        "enabled": true,
        "priority": "low",
        "threshold_type": "opportunity_value",
        "thresholds": {
          "info": 10.00,
          "warning": 25.00,
          "critical": 50.00
        },
        "evaluation_period": "daily",
        "notification_channels": [
          {"channel": "coo", "levels": ["warning", "critical"]},
          {"channel": "resource_manager", "levels": ["info", "warning", "critical"]}
        ],
        "auto_actions": {
          "at_info": [
            {"action": "queue_for_review", "params": {}}
          ],
          "at_warning": [
            {"action": "prioritize_recommendation", "params": {"priority": "high"}},
            {"action": "estimate_implementation_effort", "params": {}}
          ],
          "at_critical": [
            {"action": "escalate_to_coo", "params": {"with_analysis": true}}
          ]
        }
      }
    ],

    "notification_settings": {
      "channels": {
        "division_gm": {
          "type": "handoff_file",
          "path_template": "/coordination/divisions/{division}/handoffs/alert-{alert_id}.json",
          "delivery_sla_minutes": 5
        },
        "coo": {
          "type": "handoff_file",
          "path_template": "/coordination/coo/alerts/alert-{alert_id}.json",
          "delivery_sla_minutes": 2
        },
        "dashboard": {
          "type": "dashboard_update",
          "endpoint": "http://dashboard/api/alerts",
          "delivery_sla_seconds": 30
        },
        "security_master": {
          "type": "handoff_file",
          "path_template": "/coordination/masters/security/handoffs/alert-{alert_id}.json",
          "delivery_sla_minutes": 5
        },
        "infrastructure_gm": {
          "type": "handoff_file",
          "path_template": "/coordination/divisions/infrastructure/handoffs/alert-{alert_id}.json",
          "delivery_sla_minutes": 5
        },
        "resource_manager": {
          "type": "internal",
          "delivery_sla_seconds": 5
        }
      },
      "escalation_policy": {
        "no_acknowledgment_timeout_minutes": 30,
        "escalation_chain": [
          {"level": 1, "recipient": "division_gm"},
          {"level": 2, "recipient": "coo"},
          {"level": 3, "recipient": "cortex_prime"}
        ]
      }
    }
  },

  "optimization_rules": {
    "recommendation_engine": {
      "version": "1.0",
      "update_frequency": "hourly",
      "confidence_threshold": 0.75,
      "minimum_savings_threshold": 1.00,
      "enabled_optimizations": [
        "resource_rightsizing",
        "tier_optimization",
        "cache_improvements",
        "batch_processing",
        "model_selection",
        "schedule_optimization"
      ]
    },

    "optimization_types": {
      "model_selection": {
        "enabled": true,
        "confidence_threshold": 0.85,
        "evaluation_criteria": [
          "task_complexity",
          "output_quality_requirements",
          "response_time_requirements",
          "cost_per_task"
        ],
        "pilot_required": true,
        "pilot_sample_size": 50,
        "rules": [
          {
            "condition": "task_type == 'classification' AND quality_requirement != 'critical'",
            "recommendation": "downgrade_to_haiku",
            "expected_savings_pct": 70
          },
          {
            "condition": "task_type == 'simple_extraction' AND avg_output_tokens < 100",
            "recommendation": "downgrade_to_haiku",
            "expected_savings_pct": 75
          },
          {
            "condition": "task_type == 'general_development' AND model == 'opus'",
            "recommendation": "downgrade_to_sonnet",
            "expected_savings_pct": 80
          }
        ]
      },

      "cache_improvements": {
        "enabled": true,
        "confidence_threshold": 0.80,
        "evaluation_criteria": [
          "context_repetition_rate",
          "cache_hit_rate",
          "cache_ttl",
          "context_size"
        ],
        "rules": [
          {
            "condition": "cache_hit_rate < 40 AND repetition_rate > 50",
            "recommendation": "increase_cache_ttl",
            "expected_improvement_pct": 40
          },
          {
            "condition": "large_context_repeated > 10_times_daily",
            "recommendation": "enable_context_caching",
            "expected_savings_pct": 60
          },
          {
            "condition": "cache_ttl < 10_minutes AND context_stable",
            "recommendation": "increase_ttl_to_30_minutes",
            "expected_improvement_pct": 35
          }
        ]
      },

      "batch_processing": {
        "enabled": true,
        "confidence_threshold": 0.75,
        "evaluation_criteria": [
          "task_frequency",
          "task_independence",
          "latency_tolerance",
          "overhead_pct"
        ],
        "rules": [
          {
            "condition": "frequency > 100_per_day AND overhead_pct > 30 AND latency_tolerant",
            "recommendation": "implement_batching",
            "suggested_batch_size": 10,
            "expected_savings_pct": 50
          },
          {
            "condition": "real_time_not_required AND similar_tasks > 20_per_hour",
            "recommendation": "schedule_batch_processing",
            "suggested_frequency": "hourly",
            "expected_savings_pct": 40
          }
        ]
      },

      "resource_rightsizing": {
        "enabled": true,
        "confidence_threshold": 0.90,
        "evaluation_window": "14_days",
        "rules": [
          {
            "condition": "cpu_utilization < 40 FOR 14_days",
            "recommendation": "reduce_cpu_allocation",
            "reduction_pct": 50,
            "safety_margin_pct": 20
          },
          {
            "condition": "memory_utilization < 50 FOR 14_days",
            "recommendation": "reduce_memory_allocation",
            "reduction_pct": 40,
            "safety_margin_pct": 25
          },
          {
            "condition": "cpu_utilization > 85 FOR 7_days",
            "recommendation": "increase_cpu_allocation",
            "increase_pct": 30
          }
        ]
      },

      "storage_tier_optimization": {
        "enabled": true,
        "confidence_threshold": 0.95,
        "rules": [
          {
            "condition": "tier == 'hot' AND last_access > 30_days",
            "recommendation": "migrate_to_warm",
            "expected_savings_pct": 48
          },
          {
            "condition": "tier == 'warm' AND last_access > 90_days",
            "recommendation": "migrate_to_cold",
            "expected_savings_pct": 67
          },
          {
            "condition": "tier == 'hot' AND access_frequency < 1_per_week",
            "recommendation": "migrate_to_warm",
            "expected_savings_pct": 48
          }
        ]
      },

      "schedule_optimization": {
        "enabled": true,
        "confidence_threshold": 0.70,
        "rules": [
          {
            "condition": "task_deferrable AND peak_hours_execution",
            "recommendation": "schedule_off_peak",
            "benefit": "reduced_contention",
            "cost_impact": "neutral"
          },
          {
            "condition": "batch_job AND flexible_timing",
            "recommendation": "schedule_low_usage_hours",
            "benefit": "improved_performance",
            "cost_impact": "neutral"
          }
        ]
      }
    },

    "implementation_policy": {
      "auto_implement": {
        "enabled": false,
        "allowed_types": [],
        "max_impact_threshold": 5.00
      },
      "require_approval": {
        "threshold_monthly_savings": 10.00,
        "approver": "coo"
      },
      "pilot_required": {
        "threshold_monthly_savings": 25.00,
        "pilot_duration_days": 7,
        "success_criteria": {
          "quality_degradation_max_pct": 5,
          "actual_savings_min_pct_of_projected": 70
        }
      }
    }
  },

  "rate_cards": {
    "chargeback_model": {
      "model_type": "hybrid",
      "internal_entities": {
        "model": "showback",
        "markup_pct": 0,
        "entities": ["divisions", "shared_services", "masters"]
      },
      "external_entities": {
        "model": "chargeback",
        "markup_pct": 20,
        "entities": ["client_projects", "external_integrations"]
      }
    },

    "internal_rates": {
      "api_tokens": {
        "claude-opus-4.5": {
          "input": 15.00,
          "output": 75.00,
          "cache_write": 18.75,
          "cache_read": 1.50
        },
        "claude-sonnet-4.5": {
          "input": 3.00,
          "output": 15.00,
          "cache_write": 3.75,
          "cache_read": 0.30
        },
        "claude-haiku-3.5": {
          "input": 0.80,
          "output": 4.00,
          "cache_write": 1.00,
          "cache_read": 0.08
        }
      },
      "compute": {
        "cpu_per_core_hour": 0.05,
        "memory_per_gb_hour": 0.005,
        "gpu_per_hour": 0.50
      },
      "storage": {
        "hot_per_gb_month": 0.023,
        "warm_per_gb_month": 0.012,
        "cold_per_gb_month": 0.004
      },
      "network": {
        "intra_region_per_gb": 0.00,
        "inter_region_per_gb": 0.02,
        "internet_egress_per_gb": 0.09
      }
    },

    "external_rates": {
      "api_tokens": {
        "markup_pct": 20,
        "claude-sonnet-4.5": {
          "input": 3.60,
          "output": 18.00
        }
      },
      "compute": {
        "markup_pct": 50,
        "cpu_per_core_hour": 0.075,
        "memory_per_gb_hour": 0.0075
      }
    }
  },

  "reporting_schedules": {
    "daily": {
      "recipients": ["division_gms", "coo"],
      "reports": [
        "budget_utilization",
        "cost_summary",
        "active_alerts",
        "top_consumers"
      ],
      "delivery_time": "18:00"
    },
    "weekly": {
      "recipients": ["division_gms", "coo", "cortex_prime"],
      "reports": [
        "cost_trends",
        "efficiency_metrics",
        "optimization_recommendations",
        "variance_analysis"
      ],
      "delivery_day": "monday",
      "delivery_time": "09:00"
    },
    "monthly": {
      "recipients": ["coo", "cortex_prime"],
      "reports": [
        "comprehensive_cost_analysis",
        "roi_analysis",
        "forecast_vs_actual",
        "optimization_impact",
        "budget_recommendations"
      ],
      "delivery_day": "first_business_day",
      "delivery_time": "09:00"
    }
  }
}
