# Dependency-Track Environment Configuration
# Copy to .env and customize as needed

# Dependency-Track URLs
DTRACK_URL=http://localhost:8081
DTRACK_FRONTEND_URL=http://localhost:8082

# API Configuration
DTRACK_API_KEY_FILE=$HOME/.cortex/dtrack-api-key

# Database Configuration (for docker-compose)
POSTGRES_DB=dtrack
POSTGRES_USER=dtrack
POSTGRES_PASSWORD=dtrack

# Java Memory Settings (adjust based on your system)
JAVA_MIN_MEMORY=2048m
JAVA_MAX_MEMORY=4096m

# Worker Threads (adjust based on CPU cores)
ALPINE_WORKER_THREADS=4

# Database Pool Settings
DB_POOL_MAX_SIZE=20
DB_POOL_MIN_IDLE=10

# Vulnerability Source Configuration
NVD_ENABLED=true
GITHUB_ADVISORIES_ENABLED=true
OSSINDEX_ENABLED=true
KEV_ENABLED=true
EPSS_ENABLED=true

# Update Frequencies (cron format)
PORTFOLIO_METRICS_CRON=0 */6 * * *
VULNERABILITY_SYNC_CRON=0 3 * * *

# Notification Settings
NOTIFICATION_LEVEL=INFORMATIONAL
WEBHOOK_PORT=8888
WEBHOOK_URL=http://host.docker.internal:8888/webhook

# Monitoring (optional)
PROMETHEUS_ENABLED=false
GRAFANA_ENABLED=false

# Logging
LOG_LEVEL=INFO
ALPINE_LOG_LEVEL=INFO

# CORS (if needed for custom frontends)
CORS_ENABLED=true
CORS_ALLOW_ORIGIN=*

# BOM Validation
BOM_VALIDATION_ENABLED=true
BOM_VALIDATION_MODE=ENABLED

# Search Configuration
SEARCH_CONSISTENCY_CHECK=true
SEARCH_DELTA_SYNC=true

# Retention Policies (days)
METRICS_RETENTION_DAYS=90
AUDIT_LOG_RETENTION_DAYS=180
VIOLATION_RETENTION_DAYS=365
